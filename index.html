<!--
  ملف جاهز للرفع على Netlify: index.html
  تعليمات سريعة:
  1) احفظ هذا الملف باسم index.html داخل مجلد جديد.
  2) من لوحة Netlify: Sites -> Add new site -> Deploy manually -> Drag & Drop
     ثم اسحب المجلد (أو ملف zip يحتوي على index.html) لرفع الموقع.
  3) أو: ادفع المجلد إلى GitHub ثم اختر "New site from Git" في Netlify واربط الريبو.

  ملاحظات مهمة عند الاختبار:
  - عطل أي AdBlock مؤقتاً في المتصفح.
  - افتح الموقع عبر https (Netlify يوفّر SSL تلقائياً).
  - افحص Console في DevTools لرؤية رسائل النجاح/الخطأ.
-->

<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>اختبار Adextra - Netlify Ready</title>

  <!-- Adextra script (الـ placement ID الخاص بك) -->
  <script async src="https://partner.adextra.io/jt/32c670c3f0c8368d2fc7885022fd7eff69ef1c84.js"></script>

  <style>
    body { font-family: Arial, sans-serif; direction: rtl; padding: 24px; background:#f3f6fb; color:#222; }
    .wrapper{ max-width:900px; margin:0 auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 8px 28px rgba(12,18,31,0.06);} 
    h1{ font-size:22px; margin-bottom:6px }
    p{ color:#444 }
    #ad-area{ margin:20px 0; min-height:320px; display:flex; align-items:center; justify-content:center; border:2px dashed #e0e6ef; border-radius:8px; background:linear-gradient(180deg,#ffffff,#fbfdff); }
    .controls{ margin-top:8px }
    button{ padding:10px 14px; border-radius:8px; border:none; cursor:pointer; background:#0b76ef; color:#fff; margin-left:8px }
    button.clear{ background:#e04b4b }
    small{ display:block; margin-top:10px; color:#666 }
  </style>
</head>
<body>
  <div class="wrapper">
    <h1>اختبار Adextra — Netlify Ready</h1>
    <p>هذه صفحة ثابتة جاهزة للرفع على Netlify. السكربت والـ <code>div</code> مضمّنان. تعرّف على الملاحظات تحت الزرّ.</p>

    <!-- Ad placement div: حافظ على نفس الـ id -->
    <div id="32c670c3f0c8368d2fc7885022fd7eff69ef1c84" aria-label="Ad placement">
      <div id="ad-area">مكان الإعلان — إن لم يظهر فقد يعيقه AdBlock أو قيود الشبكة.</div>
    </div>

    <div class="controls">
      <button id="showAdBtn">عرض الإعلان الآن</button>
      <button id="clearBtn" class="clear">مسح محتوى الاختبار</button>
      <small>ملاحظة: أوقف AdBlock مؤقتاً وافتح DevTools لرؤية الرسائل.</small>
    </div>

    <hr style="margin:18px 0" />
    <h2>فحص المخرجات</h2>
    <ul>
      <li>افتح DevTools → Network وابحث عن: <code>partner.adextra.io/jt/...</code></li>
      <li>إذا ظهرت حالة 200 وبدأ تحميل السكربت، ستعمل دالة العرض.</li>
    </ul>
  </div>

  <script>
    const placementId = "32c670c3f0c8368d2fc7885022fd7eff69ef1c84";

    function onSuccess() {
      console.log("Ad showed successfully:", placementId);
      const area = document.getElementById('ad-area');
      if (area) area.innerText = "تم عرض الإعلان بنجاح — تحقق من DOM وConsole.";
    }

    function onError(err) {
      console.error("Ad error for", placementId, err);
      const area = document.getElementById('ad-area');
      if (area) area.innerText = "فشل عرض الإعلان — تحقق من Console أو تعطيل AdBlock.";
    }

    function tryShowAd() {
      if (typeof p_adextra === "function") {
        try {
          p_adextra(onSuccess, onError);
        } catch (e) {
          onError(e);
        }
      } else {
        console.log("p_adextra not ready yet — retrying...");
        setTimeout(tryShowAd, 300);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      tryShowAd();
    });

    document.getElementById('showAdBtn').addEventListener('click', tryShowAd);
    document.getElementById('clearBtn').addEventListener('click', () => {
      const area = document.getElementById('ad-area');
      if (area) area.innerText = 'مكان الإعلان — تم مسح الاختبار.';
    });
  </script>
</body>
</html>
