<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>موقع تجريبي - نظام إعلانات Tads</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
            color: white;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin-top: 30px;
        }

        .main-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .sidebar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .article {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .article h2 {
            color: #4a5568;
            margin-bottom: 15px;
        }

        .article p {
            color: #718096;
            margin-bottom: 15px;
        }

        .read-more {
            background: #667eea;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .read-more:hover {
            background: #5a6fd8;
        }

        .ad-container {
            background: #f7fafc;
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            min-height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .ad-label {
            background: #e53e3e;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .reward-section {
            background: #f0fff4;
            border: 1px solid #9ae6b4;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .reward-btn {
            background: #38a169;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            margin: 10px 0;
            transition: all 0.3s;
        }

        .reward-btn:hover {
            background: #2f855a;
            transform: translateY(-2px);
        }

        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background: #edf2f7;
            border-radius: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #718096;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            color: white;
            margin-top: 50px;
        }

        .debug-info {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 0.9rem;
        }

        .widget-info {
            background: #edf2f7;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-right: 4px solid #667eea;
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>موقع تجريبي لنظام الإعلانات</h1>
            <p>تجربة عملية لنظام Tads باستخدام الـ Widget ID الخاص بك</p>
        </header>

        <div class="content">
            <div class="main-content">
                <div class="article">
                    <h2>مرحباً بك في الموقع التجريبي</h2>
                    <p>هذا موقع تجريبي لاختبار نظام إعلانات Tads باستخدام الـ Widget ID الحقيقي الخاص بك.</p>
                    
                    <div class="widget-info">
                        <strong>معلومات الـ Widgets:</strong><br>
                        • الإعلان الثابت (TGB): <strong>#878</strong><br>
                        • الإعلان كامل الشاشة: <strong>#884</strong>
                    </div>
                </div>

                <div class="article">
                    <h2>تجربة الإعلان الثابت (TGB) - Widget #878</h2>
                    <p>سيظهر الإعلان الثابت في المربع أدناه تلقائياً عند تحميل الصفحة.</p>
                    
                    <!-- حاوية الإعلان الثابت -->
                    <div class="ad-container">
                        <div class="ad-label">إعلان ثابت - Widget #878</div>
                        <div id="tads-container-878"></div>
                        <p style="color: #718096; margin-top: 10px;">سيظهر الإعلان الثابت هنا تلقائياً</p>
                    </div>
                </div>

                <div class="reward-section">
                    <h3>تجربة الإعلانات كاملة الشاشة مع المكافآت - Widget #884</h3>
                    <p>اضغط على الزر أدناه لمشاهدة إعلان كامل الشاشة والحصول على مكافأة افتراضية</p>
                    <button id="reward-btn" class="reward-btn">🎁 شاهد إعلان واحصل على 10 نقاط</button>
                    
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-number" id="points-count">0</div>
                            <div class="stat-label">النقاط</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="ads-watched">0</div>
                            <div class="stat-label">الإعلانات المشاهدة</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="ads-clicked">0</div>
                            <div class="stat-label">النقرات</div>
                        </div>
                    </div>
                </div>

                <div class="article">
                    <h2>معلومات التصحيح</h2>
                    <div class="debug-info">
                        <div id="debug-console">🚀 جاهز لتحميل الإعلانات باستخدام الـ Widget ID الخاص بك...</div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <h3>الإعلانات الجانبية</h3>
                <p>هذا القسم مخصص للإعلانات الجانبية في الموقع الحقيقي.</p>
                
                <!-- حاوية إعلان إضافية -->
                <div class="ad-container" style="min-height: 200px;">
                    <div class="ad-label">مساحة إعلانية</div>
                    <p style="color: #718096;">يمكن إضافة المزيد من الـ Widgets هنا</p>
                </div>

                <div class="widget-info">
                    <strong>نصائح للاستخدام:</strong><br>
                    • في الإنتاج غيّر debug إلى false<br>
                    • تتبع الإحصائيات في لوحة التحكم<br>
                    • اضبط أنظمة المكافآت حسب احتياجك
                </div>
            </div>
        </div>

        <footer>
            <p>موقع تجريبي - نظام إعلانات Tads &copy; 2024 | Widgets: #878, #884</p>
        </footer>
    </div>

    <!-- كود Tads للإعلانات -->
    <script src="https://w.tads.me/widget.js"></script>
    
    <script>
        // متغيرات التتبع
        let userPoints = 0;
        let adsWatched = 0;
        let adsClicked = 0;

        // عناصر الواجهة
        const pointsElement = document.getElementById('points-count');
        const watchedElement = document.getElementById('ads-watched');
        const clickedElement = document.getElementById('ads-clicked');
        const debugConsole = document.getElementById('debug-console');
        const rewardBtn = document.getElementById('reward-btn');

        // وظيفة إضافة رسائل التصحيح
        function addDebugMessage(message) {
            const timestamp = new Date().toLocaleTimeString();
            debugConsole.innerHTML += `[${timestamp}] ${message}<br>`;
            debugConsole.scrollTop = debugConsole.scrollHeight;
        }

        // تحديث الإحصائيات
        function updateStats() {
            pointsElement.textContent = userPoints;
            watchedElement.textContent = adsWatched;
            clickedElement.textContent = adsClicked;
        }

        // تهيئة الإعلان الثابت (TGB) - Widget #878
        function initStaticAd() {
            addDebugMessage('جاري تحميل الإعلان الثابت (Widget #878)...');

            const adsNotFoundCallback = () => {
                addDebugMessage('⚠️ لم يتم العثور على إعلانات للعرض في المساحة الثابتة (Widget #878)');
                // في الموقع الحقيقي، يمكنك إخفاء مساحة الإعلان أو عرض محتوى بديل
            };

            const onClickRewardCallback = (adId) => {
                adsClicked++;
                userPoints += 5; // 5 نقاط للنقرة
                updateStats();
                addDebugMessage(`🎯 تم النقر على الإعلان الثابت: ${adId} - +5 نقاط`);
            };

            try {
                const adController = window.tads.init({
                    widgetId: '878', // الـ Widget ID الحقيقي للإعلان الثابت
                    type: 'static',
                    debug: true, // تفعيل وضع التصحيح - غيّر إلى false في الإنتاج
                    onClickReward: onClickRewardCallback,
                    onAdsNotFound: adsNotFoundCallback
                });

                adController.loadAd()
                    .then(() => {
                        addDebugMessage('✅ تم تحميل الإعلان الثابت (Widget #878) بنجاح');
                        return adController.showAd();
                    })
                    .then(() => {
                        addDebugMessage('✅ تم عرض الإعلان الثابت (Widget #878) بنجاح');
                    })
                    .catch((err) => {
                        addDebugMessage(`❌ خطأ في الإعلان الثابت (Widget #878): ${err.message}`);
                        adsNotFoundCallback();
                    });
            } catch (error) {
                addDebugMessage(`❌ خطأ في تهيئة الإعلان الثابت (Widget #878): ${error.message}`);
            }
        }

        // تهيئة الإعلانات كاملة الشاشة - Widget #884
        function initFullscreenAd() {
            addDebugMessage('جاري تهيئة الإعلانات كاملة الشاشة (Widget #884)...');

            const onShowRewardCallback = (result) => {
                adsWatched++;
                userPoints += 10; // 10 نقاط للمشاهدة
                updateStats();
                addDebugMessage(`🎉 تمت مكافأة المستخدم بعد مشاهدة الإعلان كامل الشاشة: +10 نقاط`);
            };

            const onAdsNotFound = () => {
                addDebugMessage('⚠️ لا توجد إعلانات متاحة للعرض كاملة الشاشة (Widget #884)');
                alert('عذراً، لا توجد إعلانات متاحة حالياً. يرجى المحاولة لاحقاً.');
            };

            let adController = null;

            rewardBtn.addEventListener('click', async () => {
                addDebugMessage('👤 المستخدم طلب مشاهدة إعلان للمكافأة (Widget #884)');

                if (!adController) {
                    try {
                        adController = window.tads.init({
                            widgetId: '884', // الـ Widget ID الحقيقي للإعلان كامل الشاشة
                            type: 'fullscreen',
                            debug: true, // تفعيل وضع التصحيح - غيّر إلى false في الإنتاج
                            onShowReward: onShowRewardCallback,
                            onAdsNotFound: onAdsNotFound
                        });
                        addDebugMessage('✅ تم تهيئة الإعلان كامل الشاشة (Widget #884)');
                    } catch (error) {
                        addDebugMessage(`❌ خطأ في تهيئة الإعلان كامل الشاشة (Widget #884): ${error.message}`);
                        return;
                    }
                }

                try {
                    addDebugMessage('🔄 جاري تحميل الإعلان كامل الشاشة...');
                    await adController.loadAd();
                    addDebugMessage('✅ تم تحميل الإعلان كامل الشاشة (Widget #884)');
                    await adController.showAd();
                    addDebugMessage('✅ تم عرض الإعلان كامل الشاشة بنجاح');
                } catch (error) {
                    addDebugMessage(`❌ خطأ في عرض الإعلان كامل الشاشة (Widget #884): ${error.message}`);
                    onAdsNotFound();
                }
            });
        }

        // بدء التحميل عندما تكون الصفحة جاهزة
        document.addEventListener('DOMContentLoaded', function() {
            addDebugMessage('🚀 بدء تحميل نظام الإعلانات باستخدام الـ Widget ID الخاص بك...');
            addDebugMessage('📊 Widgets المضافة: #878 (ثابت) - #884 (كامل الشاشة)');
            
            // انتظر قليلاً لضمان تحميل مكتبة Tads
            setTimeout(() => {
                if (window.tads && typeof window.tads.init === 'function') {
                    addDebugMessage('✅ مكتبة Tads محملة بنجاح');
                    initStaticAd();
                    initFullscreenAd();
                } else {
                    addDebugMessage('❌ فشل في تحميل مكتبة Tads - تأكد من اتصال الإنترنت');
                }
            }, 1000);

            // تحديث الإحصائيات الأولية
            updateStats();
        });

        // محاكاة بيانات المستخدم (للتجربة فقط)
        function simulateUserActivity() {
            addDebugMessage('🔹 جاهز لاختبار النظام - يمكنك تجربة الإعلانات الآن');
        }

        // بدء محاكاة النشاط بعد تحميل الصفحة
        window.addEventListener('load', simulateUserActivity);
    </script>
</body>
</html>
