<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¥Ø¹Ù„Ø§Ù† ÙˆÙƒØ³Ø¨ Ù†Ù‚Ø§Ø·</title>

  <!-- Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
  <script src="https://ad.gigapub.tech/script?id=4102"></script>

  <style>
    body { font-family: Arial; direction: rtl; text-align: center; margin-top: 50px; }
    button { padding: 12px 20px; font-size: 18px; cursor: pointer; border-radius: 8px; }
    #status { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>

  <h2>Ø§Ø¶ØºØ· Ù„ÙƒØ³Ø¨ Ù†Ù‚Ø§Ø· Ù…Ù† Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h2>

  <div>
    <p>Ø±ØµÙŠØ¯Ùƒ: <span id="balance">0</span> Ù†Ù‚Ø·Ø©</p>
    <button id="watchAdBtn">Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ù„Ø§Ù†</button>
    <p id="status"></p>
  </div>

<script>
  // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø±ØµÙŠØ¯ Ù…Ù† Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
  let balance = Number(localStorage.getItem("balance") || 0);
  document.getElementById("balance").textContent = balance;

  const statusEl = document.getElementById("status");

  function setStatus(msg, error = false) {
    statusEl.textContent = msg;
    statusEl.style.color = error ? "red" : "green";
  }

  // Ø²Ø± Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
  document.getElementById("watchAdBtn").onclick = async () => {
    setStatus("Ø¬Ø§Ø±Ù ÙØªØ­ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†...");

    try {
      if (!window.showGiga) {
        setStatus("Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ØºÙŠØ± Ø¬Ø§Ù‡Ø²Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.", true);
        return;
      }

      const result = await window.showGiga();

      // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
      if (result && result.rewarded) {
        // ØªØ­Ø¯ÙŠØ¯ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© (Ø§ÙØªØ±Ø§Ø¶ÙŠ 10)
        const reward = result.rewardAmount || 10;

        balance += reward;
        localStorage.setItem("balance", balance);
        document.getElementById("balance").textContent = balance;

        setStatus(`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${reward} Ù†Ù‚Ø§Ø· ğŸ‰`);
      } else {
        setStatus("Ù„Ù… ÙŠØªÙ… Ù…Ù†Ø­ Ù…ÙƒØ§ÙØ£Ø©.", true);
      }

    } catch (err) {
      console.error(err);
      setStatus("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†.", true);
    }
  };
</script>

</body>
</html>
