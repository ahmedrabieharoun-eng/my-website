<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>اختبار Adextra — aborabie_fullscreen</title>

  <!-- سكربت الـ Placement الجديد -->
  <script async src="https://partner.adextra.io/jt/c752c0a7af606bdc1a0bebf6a466fda6a3da0682.js"></script>

  <style>
    body { font-family: Arial, sans-serif; direction: rtl; padding:24px; background:#f4f7fb; color:#222; }
    .card { max-width:900px; margin:0 auto; background:#fff; padding:20px; border-radius:10px; box-shadow:0 10px 30px rgba(10,20,40,0.06); }
    h1 { margin:0 0 8px; font-size:20px }
    p { color:#444 }
    #ad-area { margin:18px 0; min-height:340px; display:flex; align-items:center; justify-content:center; border:2px dashed #e6eef8; border-radius:8px; background:linear-gradient(180deg,#fff,#f9fcff); text-align:center; }
    button { padding:10px 14px; border-radius:8px; border:none; cursor:pointer; background:#0b76ef; color:#fff; margin-left:8px }
    button.clear { background:#e04b4b }
  </style>
</head>
<body>
  <div class="card">
    <h1>اختبار Adextra — aborabie_fullscreen</h1>

    <!-- Block الجديد للـ placement الجديد -->
    <div id="c752c0a7af606bdc1a0bebf6a466fda6a3da0682">
      <div id="ad-area">مكان الإعلان — في انتظار تحميل Adextra…</div>
    </div>

    <button id="showAdBtn">عرض الإعلان الآن</button>
    <button id="clearBtn" class="clear">مسح المحتوى</button>
  </div>

  <script>
    const placementId = "c752c0a7af606bdc1a0bebf6a466fda6a3da0682";

    // تابع p المطلوب حسب وثائق Adextra
    var p = function(){};

    function onSuccess() {
      console.log("Ad shown successfully:", placementId);
      document.getElementById("ad-area").innerText = "تم عرض الإعلان بنجاح.";
    }

    function onError(err) {
      console.error("Ad error:", err);
      document.getElementById("ad-area").innerText = "فشل عرض الإعلان — تحقق من Console.";
    }

    // محاولة عرض الإعلان بعد تحميل الصفحة
    function tryShowAd() {
      if (typeof p_adextra === "function") {
        console.log("Calling p_adextra…");
        try {
          // الصيغة الأساسية حسب الوثيقة
          p_adextra(p);

          // أو عند الحاجة:
          // p_adextra(onSuccess, onError);

        } catch (e) {
          console.error("Error calling p_adextra:", e);
        }
      } else {
        console.log("p_adextra not ready yet — retrying…");
        setTimeout(tryShowAd, 500);
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      setTimeout(tryShowAd, 1000);
    });

    document.getElementById("showAdBtn").onclick = tryShowAd;
    document.getElementById("clearBtn").onclick = () => {
      document.getElementById("ad-area").innerText = "مكان الإعلان — تم مسح المحتوى.";
    };
  </script>

</body>
</html>
